!function(){var e={Etag:1,"Last-Modified":1,"Content-Length":1,"Content-Type":1},t={},o={},a={},n={},s=1e3,r=!1,c={html:1,css:1,js:1},i={heartbeat:function(){document.body&&(r||i.loadresources(),i.checkForChanges()),setTimeout(i.heartbeat,s)},loadresources:function(){function e(e){var t=document.location,o=new RegExp("^\\.|^/(?!/)|^[\\w]((?!://).)*$|"+t.protocol+"//"+t.host);return e.match(o)}for(var o=document.getElementsByTagName("script"),n=document.getElementsByTagName("link"),s=[],l=0;l<o.length;l++){var d=o[l],u=d.getAttribute("src");if(u&&e(u)&&s.push(u),u&&u.match(/\blive.js#/)){for(var h in c)c[h]=null!=u.match("[#,|]"+h);u.match("notify")&&alert("Live.js is loaded.")}}c.js||(s=[]),c.html&&s.push(document.location.href);for(var l=0;l<n.length&&c.css;l++){var m=n[l],p=m.getAttribute("rel"),v=m.getAttribute("href",2);v&&p&&p.match(new RegExp("stylesheet","i"))&&e(v)&&(s.push(v),a[v]=m)}for(var l=0;l<s.length;l++){var f=s[l];i.getHead(f,function(e,o){t[e]=o})}var g=document.getElementsByTagName("head")[0],w=document.createElement("style"),y="transition: all .3s ease-out;";css=[".livejs-loading * { ",y," -webkit-",y,"-moz-",y,"-o-",y,"}"].join(""),w.setAttribute("type","text/css"),g.appendChild(w),w.styleSheet?w.styleSheet.cssText=css:w.appendChild(document.createTextNode(css)),r=!0},checkForChanges:function(){for(var e in t)o[e]||i.getHead(e,function(e,o){var a=t[e],n=!1;t[e]=o;for(var s in a){var r=a[s],c=o[s],l=o["Content-Type"];switch(s.toLowerCase()){case"etag":if(!c)break;default:n=r!=c}if(n){i.refreshResource(e,l);break}}})},refreshResource:function(e,t){switch(t.toLowerCase()){case"text/css":var o=a[e],s=document.body.parentNode,r=o.parentNode,c=o.nextSibling,l=document.createElement("link");s.className=s.className.replace(/\s*livejs\-loading/gi,"")+" livejs-loading",l.setAttribute("type","text/css"),l.setAttribute("rel","stylesheet"),l.setAttribute("href",e+"?now="+1*new Date),c?r.insertBefore(l,c):r.appendChild(l),a[e]=l,n[e]=o,i.removeoldLinkElements();break;case"text/html":if(e!=document.location.href)return;case"text/javascript":case"application/javascript":case"application/x-javascript":document.location.reload()}},removeoldLinkElements:function(){var e=0;for(var t in n){try{var o=a[t],s=n[t],r=document.body.parentNode,c=o.sheet||o.styleSheet,l=c.rules||c.cssRules;l.length>=0&&(s.parentNode.removeChild(s),delete n[t],setTimeout(function(){r.className=r.className.replace(/\s*livejs\-loading/gi,"")},100))}catch(d){e++}e&&setTimeout(i.removeoldLinkElements,50)}},getHead:function(t,a){o[t]=!0;var n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XmlHttp");n.open("HEAD",t,!0),n.onreadystatechange=function(){if(delete o[t],4==n.readyState&&304!=n.status){n.getAllResponseHeaders();var s={};for(var r in e){var c=n.getResponseHeader(r);"etag"==r.toLowerCase()&&c&&(c=c.replace(/^W\//,"")),"content-type"==r.toLowerCase()&&c&&(c=c.replace(/^(.*?);.*?$/i,"$1")),s[r]=c}a(t,s)}},n.send()}};"file:"!=document.location.protocol?(window.liveJsLoaded||i.heartbeat(),window.liveJsLoaded=!0):window.console&&console.log("Live.js doesn't support the file protocol. It needs http.")}();